---
layout: post
title:  项目中的常见BUG🐞总结(一)
subtitle: 总结了学习和项目开发中遇到的一些bug
date: 2021-08-21
tags:
 - BUG
catalog: true
header_img: /images/header-bg/21-8-21-1.gif
header_style: image
---

# 项目中的常见BUG🐞总结（一）

---

<img src="https://i.loli.net/2021/09/09/QDzws9y17ZTYAXO.png" alt="bug" style="zoom:150%;" />

在项目开发过程中，经常会遇到一些奇奇怪怪的BUG😭，导致项目的进度变得很慢。这篇文章总结一下我在开发中遇到的一些BUG，以及解决方式。



## （一）数组有值但是console.log出来却为空

### 1. 问题描述

今天在做小程序的项目的时候，遇到一个问题。在Page的data中初始化页面数据的时候，将一个数据的初始值设置为一个空数组，想要在onLoad钩子函数中发送请求之后将请求回来的数据赋值给该数据。但是在测试数据的时候，控制台打印该数据时，发送该数据还是一个空数组，但是点开数组时有正确的数据。

![image-20210909100531719](https://i.loli.net/2021/09/09/eySzPoHn6tGlTZ8.png) 

### 2. 问题分析

在网上查询了该问题的解决方式，得到一个官方的说法是——`异步后发`得到的问题。

初始化时给该数据赋值为空数组，但是数组中的数据是通过向服务器端发送请求得到的返回数据push到数组中，这个过程是异步执行的。由于是异步，所以后面的console.log()已经开始执行，所以会显示刚开始的初始值空数组，但是当重新点击控制台打印出来的该空数组时，会重新去读取一遍内存中的值然后显示，所以展开空数组后看到了最终的请求结果。

### 3. 解决方式

(1) 使用async和await将异步改成同步

```javascript
async function(){
   await request()   // 发送异步请求
}
```

(2) 给输出添加延时

```javascript
setTimeout(() => {
    console.log(this.data.someData)
}, 600)
```

